---
title: "Midterm Project"
author: " Team Extrapolates"
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

```{r init, include=FALSE}
library(ezids)
# knitr::opts_chunk$set(warning = F, results = "markup", message = F)
knitr::opts_chunk$set(warning = F, results = "show", message = F)
options(scientific=T, digits = 3) 
```

# OKCupid Dataset Analysis - Code & Technical Analysis

## STEP 1: Loading the Dataset

```{r}
# Reading the dataset
cupid_df = read.csv("okcupid_profiles.csv")

# Structure of the dataset
str(cupid_df)
```


## STEP 2: Data Cleaning

## STEP 3: Exploratory Data Analysis

## STEP 4: SMART Questions

### 4.4 Is there a significant association between an individualâ€™s diet preference (ranging from 'anything' to 'strictly vegetarian') and having a 'healthy' body type?
```{r}
# Filtering the data
diet_body_df <- cleaned_cupid_df %>%filter(diet %in% c("anything", "strictly anything", "mostly vegetarian", "strictly vegetarian")) %>%mutate(diet_category = ifelse(diet %in% c("anything", "strictly anything"), "Anything", "Vegetarian"),healthy_body_type = ifelse(body_type %in% c("athletic", "average", "fit", "jacked"), "Healthy", "Unhealthy"))

# bar plot 
ggplot(diet_body_df, aes(x = diet_category, fill = healthy_body_type)) +geom_bar(position = "dodge") +labs(title = "Diet Preference and 'Healthy' Body Type Distribution",x = "Diet Category",y = "Number of Individuals",fill = "Body Type (Healthy)") +scale_fill_brewer(palette = "Set3") +theme_minimal() +geom_text(stat = "count", aes(label = ..count..),position = position_dodge(width = 0.9), vjust = -0.5, size = 3) 

```
people who eat both vegetarian and non-vegetarian were more compared to people who stick with vegetarian food. But the difference in healthy and unhealthy body is less for vegetarians compared to people who eat anything.

```{r}
# Chi-square
diet_body_table <- table(diet_body_df$diet_category, diet_body_df$healthy_body_type)
chi_square_result <- chisq.test(diet_body_table)
print(chi_square_result)
```
We perform Chi-squared test because the variables we work on are categorized. We can see the p-value is equal to 0.05. So we can reject the Null hypothesis and can conclude there is a association between diet inntake and body type a person has.



